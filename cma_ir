from picamera import PiCamera
from time import sleep

def check_camera():
    try:
        # Inicializa a câmera
        camera = PiCamera()
        
        # Configura a resolução da imagem
        camera.resolution = (2560, 1920)
        
        # Aguarda a estabilização da câmera
        sleep(2)
        
        # Captura a imagem e salva no caminho especificado
        camera.capture('/home/EcoFlight/Documents/test.jpg')
        
        # Finaliza a câmera após a captura
        camera.close()
        
        print("Câmera detectada e imagem capturada com sucesso.")
        print("A imagem foi salva em /home//Documents/image.jpg")
        
    except Exception as e:
        print(f"Erro ao acessar a câmera: {e}")

if __name__ == "__main__":
    check_camera()
